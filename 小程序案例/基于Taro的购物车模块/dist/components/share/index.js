(wx.webpackJsonp=wx.webpackJsonp||[]).push([[3],{"15":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var n,a,o=_interopRequireDefault(r(78)),i=function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e};function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(0),u=_interopRequireDefault(s);r(80);var c=_interopRequireDefault(r(81));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var i=e.apply(this,arguments);return new Promise(function(a,o){return function step(e,t){try{var r=i[e](t),n=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(n).then(function(e){step("next",e)},function(e){step("throw",e)});a(n)}("next")})}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l,f,p=(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,s.Component),i(Index,[{"key":"_constructor","value":function _constructor(){this.state={"bg":r(82),"isShowCanvas":!1},this.drawImage(),this.$$refs=new u.default.RefsArray}},{"key":"drawImage","value":(f=_asyncToGenerator(o.default.mark(function _callee(){var t,r;return o.default.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t=u.default.createCanvasContext("cardCanvas",this.$scope),(r=t.createLinearGradient(0,0,1,500)).addColorStop(0,"#af4225"),r.addColorStop(.5,"#FFF"),t.setFillStyle(r),t.fillRect(0,0,400,500),t.save(),t.beginPath(),t.arc(160,88,66,0,2*Math.PI),t.closePath(),t.clip(),t.stroke(),t.translate(160,88),t.drawImage(this.state.bg,-66,-66,132,132),t.restore(),t.save(),t.setFontSize(15),t.setFillStyle("#FFF"),t.fillText(this.props.desc,5,200),t.restore(),t.drawImage(c.default,70,260,180,180),t.draw();case 22:case"end":return e.stop()}},_callee,this)})),function drawImage(){return f.apply(this,arguments)})},{"key":"saveCard","value":(l=_asyncToGenerator(o.default.mark(function _callee2(){var t;return o.default.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.canvasToTempFilePath({"x":0,"y":0,"width":400,"height":500,"destWidth":360,"destHeight":450,"canvasId":"cardCanvas","fileType":"png"},this.$scope);case 2:return t=e.sent,e.next=5,u.default.saveImageToPhotosAlbum({"filePath":t.tempFilePath});case 5:"saveImageToPhotosAlbum:ok"===e.sent.errMsg?u.default.showModal({"title":"图片保存成功","content":"保存成功，快去相册看看吧","showCancel":!1,"confirmText":"确认"}):u.default.showModal({"title":"图片保存失败","content":"请重新尝试!","showCancel":!1,"confirmText":"确认"});case 7:case"end":return e.stop()}},_callee2,this)})),function saveCard(){return l.apply(this,arguments)})},{"key":"_createData","value":function _createData(e,t,r){return this.__state=e||this.state||{},this.__props=t||this.props||{},this.$prefix,Object.assign(this.__state,{}),this.__state}}]),a=n=Index,n.$$events=["saveCard"],n.$$componentPath="components/share/index",a);function Index(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=r=_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(a)))).$usedState=["bg","isShowCanvas","desc"],r.config={"navigationBarTitleText":"分享图"},r.customComponents=[],_possibleConstructorReturn(r,t)}t.default=p,Component(r(0).default.createComponent(p))},"27":function(e,t,r){"use strict";r.r(t);var n=r(15),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);t.default=a.a},"35":function(e,t,r){e.exports=r.p+"components/share/index.wxml"},"76":function(e,t,r){"use strict";r.r(t);r(77);var n=r(27);for(var a in n)"default"!==a&&function(e){r.d(t,e,function(){return n[e]})}(a)},"77":function(e,t,r){"use strict";r(35)},"78":function(e,t,r){"use strict";e.exports=r(79)},"79":function(e,t,r){"use strict";var n=function(){return this}()||{"Function":Function,"Boolean":Boolean,"Object":Object,"Number":Number,"Array":Array,"Date":Date,"String":String,"Symbol":Symbol,"Error":Error,"TypeError":TypeError,"Map":Map,"Set":Set,"WeakMap":WeakMap,"WeakSet":WeakSet,"ArrayBuffer":ArrayBuffer,"Math":Math,"Promise":Promise,"RegExp":RegExp,"DataView":DataView,"isFinite":isFinite,"parseInt":parseInt,"parseFloat":parseFloat,"Float32Array":Float32Array,"Float64Array":Float64Array,"Int8Array":Int8Array,"Int16Array":Int16Array,"Int32Array":Int32Array,"Uint8Array":Uint8Array,"Uint16Array":Uint16Array,"Uint32Array":Uint32Array,"Uint8ClampedArray":Uint8ClampedArray,"setTimeout":setTimeout,"clearTimeout":clearTimeout,"setInterval":setInterval,"clearInterval":clearInterval},a=n.regeneratorRuntime&&0<=Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime"),o=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(29),a)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},"80":function(e,t,r){},"81":function(e,t,r){e.exports=r.p+"pages/images/2.jpg"},"82":function(e,t,r){e.exports=r.p+"pages/images/1.jpg"}},[[76,0,1]]]);